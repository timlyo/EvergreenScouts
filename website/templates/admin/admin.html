{% extends "partials/layout.html" %}

{% block header %}
{{super()}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>
{% endblock %}

{% block body %}
<div class="ui grid container">
    <div class="twelve wide column">

        <div class="ui top attached tabular menu">
            <a class="active item" data-tab="program">Program</a>
            <a class="item" data-tab="articles">Articles</a>
        </div>

        <div class="ui bottom attached tab segment active" data-tab="program">
            <ul>
                <!--{% for program in program_list %}-->
                <!--<li><a href="editProgram/{{program['name']}}">{{ program["name"] }} </a></li>-->
                <!--{% endfor %}-->

                <script>
                    var programName = "{{current_user.name}}";
                </script>

                <h1>{{ name }} Program </h1>
                <div id="program"></div>
                <script type="text/babel" src="/static/javascript/program.jsx"></script>
            </ul>
        </div>

        <div class="ui bottom attached tab segment" data-tab="articles">
            <h2>News Articles</h2>

            <a class="btn btn-default" href="news/{{news_count+1}}/edit?action=create">New Article</a>

            <br>
            <br>

            <table class="ui table">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Created</th>
                        <th>Updated</th>
                        <th>Unit</th>
                        <th>State</th>
                    </tr>
                </thead>
                {% for article in articles %}
                <tr>
                    <td><a href="/news/{{article['eid']}}">{{article["title"]}}</a></td>
                    <td>{{article["created"] | format_date_time}}</td>
                    <td>{{article["updated"] | format_date_time}}</td>
                    <td>{{article["unit"]}}</td>
                    <td>{{article["state"]}}</td>
                    <td></td>
                </tr>
                {% endfor %}

            </table>
        </div>
    </div>
</div>

<script>
    $('.menu .item').tab();
</script>

{% endblock %}
